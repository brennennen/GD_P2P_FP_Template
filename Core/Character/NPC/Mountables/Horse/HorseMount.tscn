[gd_scene load_steps=18 format=3 uid="uid://c0hkijhcuc843"]

[ext_resource type="PackedScene" uid="uid://cwlna3eas8sti" path="res://Assets/Characters/Horsequin/horsequin.glb" id="1_wpsxw"]
[ext_resource type="Script" uid="uid://bqd4tu5p12370" path="res://Core/Character/NPC/Mountables/Horse/HorseMount.gd" id="1_wxhs2"]
[ext_resource type="AudioStream" uid="uid://dosiw50gew646" path="res://Assets/Audio/Foley/horse/snort/538697__brunoauzet__horse-snort_1.mp3" id="3_1n6yx"]
[ext_resource type="AudioStream" uid="uid://c7rwmtlkkc57y" path="res://Assets/Audio/Foley/horse/neigh/510903__lydmakeren__horse_neighing_2.mp3" id="4_et8rd"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_et8rd"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y8qnn"]
animation = &"walk-backwards"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wbinp"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u6q3i"]
animation = &"canter"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_614jo"]
animation = &"gallop"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_oy5nc"]
blend_point_0/node = SubResource("AnimationNodeAnimation_et8rd")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_y8qnn")
blend_point_1/pos = -0.4
blend_point_2/node = SubResource("AnimationNodeAnimation_wbinp")
blend_point_2/pos = 0.2
blend_point_3/node = SubResource("AnimationNodeAnimation_u6q3i")
blend_point_3/pos = 0.5
blend_point_4/node = SubResource("AnimationNodeAnimation_614jo")
blend_point_4/pos = 0.8

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wxhs2"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1n6yx"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_y8qnn"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wbinp"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_66nnq"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_u6q3i"]
states/LocomotionSpace1D/node = SubResource("AnimationNodeBlendSpace1D_oy5nc")
states/LocomotionSpace1D/position = Vector2(-102, 200)
states/Start/position = Vector2(-339, 100)
states/idle/node = SubResource("AnimationNodeAnimation_wxhs2")
states/idle/position = Vector2(-131, 100)
states/walk/node = SubResource("AnimationNodeAnimation_1n6yx")
states/walk/position = Vector2(190, 100)
transitions = ["idle", "walk", SubResource("AnimationNodeStateMachineTransition_y8qnn"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_wbinp"), "Start", "LocomotionSpace1D", SubResource("AnimationNodeStateMachineTransition_66nnq")]
graph_offset = Vector2(-754, 25)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_614jo"]
graph_offset = Vector2(-390.413, 17.4545)
nodes/LocomotionStateMachine/node = SubResource("AnimationNodeStateMachine_u6q3i")
nodes/LocomotionStateMachine/position = Vector2(-180, 140)
node_connections = [&"output", 0, &"LocomotionStateMachine"]

[node name="HorseMount" type="Node3D"]
script = ExtResource("1_wxhs2")

[node name="horsequin2" parent="." instance=ExtResource("1_wpsxw")]

[node name="Skeleton3D" parent="horsequin2/horsequin" index="0"]
bones/0/position = Vector3(-0.0105973, 1.36226, -0.774898)
bones/0/rotation = Quaternion(-0.864532, 0.0137216, 0.0236388, 0.501835)
bones/2/rotation = Quaternion(0.635775, -0.0200987, 0.0168242, 0.77143)
bones/2/scale = Vector3(1, 0.996864, 1)
bones/3/rotation = Quaternion(-0.478188, 0.0482204, -0.00737211, 0.876902)
bones/3/scale = Vector3(0.999988, 0.997472, 1.00085)
bones/4/rotation = Quaternion(0.0635962, -0.0070509, -0.00746725, 0.997923)
bones/4/scale = Vector3(1.00002, 1.00338, 1.00144)
bones/7/rotation = Quaternion(0.466387, 0.0617714, -0.0663156, 0.879926)
bones/7/scale = Vector3(1, 0.996777, 1)
bones/8/rotation = Quaternion(-0.485383, -0.0319661, 0.0496213, 0.872307)
bones/8/scale = Vector3(1.00002, 0.997373, 1.00087)
bones/9/rotation = Quaternion(0.000508033, 0.00903382, -0.00137135, 0.999958)
bones/9/scale = Vector3(1.00002, 1.00366, 1.00149)
bones/11/position = Vector3(-0.00898679, 0.24441, 0.0166415)
bones/11/rotation = Quaternion(-0.417754, 2.49203e-10, 1.55825e-09, 0.90856)
bones/12/rotation = Quaternion(-0.139587, 1.20294e-07, 5.43224e-10, 0.99021)
bones/12/scale = Vector3(1, 0.943722, 1)
bones/13/rotation = Quaternion(0.0862987, -5.2489e-10, 6.61641e-10, 0.996269)
bones/13/scale = Vector3(1.01827, 1.02037, 1.02013)
bones/14/rotation = Quaternion(0.0247278, 6.84892e-10, 1.1677e-08, 0.999694)
bones/14/scale = Vector3(1.00961, 0.980963, 1.00975)
bones/15/position = Vector3(-0.0105973, 1.36226, -0.774898)
bones/15/rotation = Quaternion(0.878677, 0.0086512, -0.0217594, 0.476842)
bones/15/scale = Vector3(1, 1.00618, 1)
bones/16/rotation = Quaternion(-0.269016, 0.00911809, 0.0260067, 0.962741)
bones/16/scale = Vector3(0.999985, 0.992473, 0.998278)
bones/17/rotation = Quaternion(-0.226931, 0.00214599, 0.00761902, 0.973879)
bones/17/scale = Vector3(1, 1.00257, 1.00062)
bones/18/rotation = Quaternion(-0.128389, 0.000642193, 0.00373512, 0.991717)
bones/18/scale = Vector3(1, 1.01856, 1)
bones/19/rotation = Quaternion(-0.0368437, -0.0125535, 0.00805693, 0.99921)
bones/19/scale = Vector3(0.999995, 0.981906, 0.9999)
bones/20/position = Vector3(0.000169633, 0.321546, -0.0950984)
bones/20/rotation = Quaternion(0.597134, -0.000527147, -0.00506643, 0.802125)
bones/21/rotation = Quaternion(-7.17194e-05, 8.46262e-10, 9.41617e-10, 1)
bones/23/position = Vector3(0.0607185, 0.38034, -0.0916188)
bones/23/rotation = Quaternion(-0.275277, 0.0936986, 0.0099646, 0.956736)
bones/24/position = Vector3(-0.0592675, 0.381197, -0.0910617)
bones/24/rotation = Quaternion(-0.276135, -0.0863033, -0.01691, 0.957087)
bones/25/rotation = Quaternion(0.634254, -0.2073, -0.0446699, 0.743474)
bones/25/scale = Vector3(1, 0.999297, 1)
bones/26/rotation = Quaternion(0.604078, 0.109071, -0.206318, 0.761988)
bones/26/scale = Vector3(0.999666, 0.999545, 1.00035)
bones/27/rotation = Quaternion(-0.654381, -0.0109844, -0.0420204, 0.754917)
bones/27/scale = Vector3(0.999846, 0.962075, 0.999999)
bones/28/rotation = Quaternion(0.230332, -0.0173669, 0.0312711, 0.972454)
bones/28/scale = Vector3(0.96233, 0.968449, 0.970291)
bones/29/position = Vector3(-3.09885e-06, 0.261772, 2.92108e-05)
bones/29/rotation = Quaternion(0.0592517, -0.0283597, 0.0147963, 0.99773)
bones/29/scale = Vector3(1.0399, 1.06465, 1.04049)
bones/31/rotation = Quaternion(0.647978, 0.206197, 0.0432144, 0.731942)
bones/31/scale = Vector3(1, 1.00048, 1)
bones/32/rotation = Quaternion(0.565218, -0.114678, 0.209242, 0.789681)
bones/32/scale = Vector3(1.00003, 1.00002, 0.999644)
bones/33/rotation = Quaternion(-0.2706, 0.00573628, 0.00687205, 0.96265)
bones/33/scale = Vector3(1.00002, 0.97663, 1.00002)
bones/34/rotation = Quaternion(0.0624264, 0.0304735, -0.0284831, 0.997178)
bones/34/scale = Vector3(0.976691, 0.985206, 0.977087)
bones/35/position = Vector3(4.05904e-06, 0.26173, 1.18573e-05)
bones/35/rotation = Quaternion(-0.306085, -0.0215201, -0.0027546, 0.951757)
bones/35/scale = Vector3(1.02387, 1.03368, 1.02895)
bones/37/position = Vector3(0.000434206, 1.35092, -0.123886)
bones/37/rotation = Quaternion(0.707101, -0.00292228, 0.00292222, 0.707101)

[node name="PlayerBoneAttachment3D" type="BoneAttachment3D" parent="."]
transform = Transform3D(0.999966, -0.00826531, -8.61473e-08, -8.801e-08, -2.38419e-07, -1, 0.00826531, 0.999966, -2.38419e-07, 0.000434206, 1.35092, -0.123886)
bone_name = "slot_player_attach"
bone_idx = 37
use_external_skeleton = true
external_skeleton = NodePath("../horsequin2/horsequin/Skeleton3D")

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../horsequin2")
tree_root = SubResource("AnimationNodeBlendTree_614jo")
anim_player = NodePath("../horsequin2/AnimationPlayer")
parameters/LocomotionStateMachine/LocomotionSpace1D/blend_position = 0.195343

[node name="Audio" type="Node3D" parent="."]

[node name="SnortAudio" type="AudioStreamPlayer3D" parent="Audio"]
stream = ExtResource("3_1n6yx")
volume_db = -24.0
bus = &"Ambient"

[node name="NeighAudio" type="AudioStreamPlayer3D" parent="Audio"]
stream = ExtResource("4_et8rd")
volume_db = -23.999

[node name="FootStepAudio" type="AudioStreamPlayer3D" parent="Audio"]

[node name="NeighOrSnortTimer" type="Timer" parent="."]
wait_time = 10.0
one_shot = true

[editable path="horsequin2"]
